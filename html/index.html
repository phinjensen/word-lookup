<!doctype html><meta charset=utf-8><title>Word Lookup</title><style>html{font-size:14px;font-family:"IBM Plex Sans","DejaVu Sans",sans-serif}body{height:100vh;margin:0;display:flex;flex-flow:column}#page-header{display:flex;align-items:center;border-bottom:1px solid #111;width:100%;flex:0 0 48px}#page-header>*{margin-left:8px}h2{font-size:1.3rem}p{line-height:1.2}code{line-height:1.2}td,th{padding:8px}th.ascending::after{content:'ü°π';margin-left:8px}th.descending::after{content:'ü°≥';margin-left:8px}#content{flex:0 1 auto;display:flex;flex-flow:row;overflow:auto;height:100%}#sidebar{flex:0 0 370px;border-right:1px solid #111;display:flex;flex-wrap:wrap;align-items:center;padding:8px;box-sizing:border-box;align-content:flex-start;overflow:auto}#search-options{width:100%}.search-option{width:100%;margin-bottom:8px;display:flex;align-items:center;justify-content:space-between}.search-option>label{text-align:right;width:35%}#results{overflow:auto;width:100%}#results>table{width:100%;border-spacing:0}#results>table tr:nth-child(even){background-color:#eae9e9}#results *{text-align:left}#regex-reference td:nth-child(1){padding-left:0}.window{position:absolute;top:139px;left:379px;border:1px solid #000;border-radius:4px;background-color:#fff;display:none}.window header{cursor:default;width:100%;text-align:center;user-select:none;padding:12px 0;border-bottom:1px solid #000}.window header a{position:absolute;top:0;right:0;text-decoration:none;color:#000;padding:12px}.window .content{padding:4px}#ipa-input{width:404px}#ipa-input #ipa-buttons{display:flex;flex-flow:row wrap;align-content:flex-start}#ipa-input button{box-sizing:border-box;border:1px solid #d3d3d3;border-radius:4px;width:32px;height:32px;padding:4px;margin:2px}#import-data{width:420px;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}#import-data .content{padding-top:0;padding:8px}#message{left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}</style><header id=page-header><button class=open-window data-window=import-data id=open-import>Import Data</button> <button id=export-data>Export Results</button> <button class=open-window data-window=ipa-input id=open-ipa>IPA Character Input</button></header><div id=content><section id=sidebar><button>&lt;&lt; hide</button><div id=search-options><h2>Search Options</h2><div class=search-option><label for=orthography>Orthography</label> <input required id=orthography name=orthography></div><div class=search-option><label for=transcription>Transcription</label> <input required id=transcription name=transcription></div><div class=search-option><label for=syllables># of syllables</label> <input id=syllables name=syllables></div><div class=search-option><label for=stress>Stress pattern</label> <input id=stress name=stress></div><div class=search-option><label for=minfrequency>Min. frequency</label> <input id=minfrequency name=minfrequency></div><div class=search-option><label for=maxfrequency>Max. frequency</label> <input id=maxfrequency name=maxfrequency></div><div class=search-option><label for=pos>Part of speech</label> <input id=pos name=pos></div><button id=search-button>Search</button></div><div id=regex-reference><h2>Regular Expressions</h2><p>Regular expressions can be used in the orthography, transcription, and stress fields.<table><tr><td><code>^</code><td>match the beginning of a string<tr><td><code>$</code><td>match the end of a string<tr><td><code>.</code><td>match any character<tr><td><code>a*</code><td>match a sequence of zero or more of the character <code>a</code><tr><td><code>a+</code><td>match a sequence of one or more of the character <code>a</code><tr><td><code>a?</code><td>match zero or one of the character <code>a</code><tr><td><code>de|abc</code><td>match either the sequence <code>de</code> <b>or</b> the sequecence <code>abc</code><tr><td><code>(abc)*</code><td>match zero or more instances of the sequence <code>abc</code></table></div></section><section id=results><table><thead><tr><th data-sort=spelling>Orthography<th data-sort=transcription>Transcription<th data-sort=stress>Stress<th data-sort=num_syllables>Syllables<th data-sort=hal_frequency>Frequency<th data-sort=part_of_speech>Part(s) of speech<tbody><tr><td>No results.<td></table></section></div><div class=window id=ipa-input><header><span>IPA Character Input</span><div class=controls><a href=# class=close-button>X</a></div></header><div class=content id=ipa-buttons><button>…ë</button> <button>√¶</button> <button>…ê</button> <button>…ëÃÉ</button> <button>Œ≤</button> <button>…ì</button> <button>√ß</button> <button>…ï</button> <button>√∞</button> <button>dÕ° í</button> <button>…ñ</button> <button>…ó</button> <button>…ô</button> <button>…ö</button> <button>…µ</button> <button>…ò</button> <button>…õ</button> <button>…ú</button> <button>…ù</button> <button>…õÃÉ</button> <button>…†</button> <button>…¢</button> <button>ƒß</button> <button>…¶</button> <button>…•</button> <button>…ß</button> <button> ú</button> <button>…™</button> <button>…®</button> <button>…™Ãà</button> <button> ù</button> <button>…ü</button> <button>…´</button> <button>…≠</button> <button>…¨</button> <button> ü</button> <button>…Æ</button> <button>…±</button> <button>≈ã</button> <button>…≤</button> <button>…≥</button> <button>…¥</button> <button>…î</button> <button>≈ì</button> <button>…í</button> <button>…îÃÉ</button> <button>√∏</button> <button>…∏</button> <button>…æ</button> <button>…π</button> <button> Å</button> <button> Ä</button> <button>…ª</button> <button>…Ω</button> <button> É</button> <button> Ç</button> <button>Œ∏</button> <button>tÕ° É</button> <button>tÕ°s</button> <button> à</button> <button> ä</button> <button> â</button> <button> å</button> <button> ã</button> <button>…Ø</button> <button> ç</button> <button>œá</button> <button>…£</button> <button> é</button> <button> è</button> <button>…§</button> <button> í</button> <button> ê</button> <button> ë</button> <button> î</button> <button> ï</button></div></div><div class=window id=import-data><header><span>Import updated data</span><div class=controls><a href=# class=close-button>X</a></div></header><div class=content><p>To update the database, make changes to the original file and upload it to the same folder as<pre>word_lookup</pre>with the filename<pre>elpdic</pre>.</div></div><div class=window id=message><header><div class=controls><span></span> <a href=# class=close-button>X</a></div></header><div class=content></div></div><script>window.onload=function(){var e=[],t=["spelling","transcription","num_syllables","stress","spelling_morph","transcription_morph","num_morphemes","part_of_speech","hal_frequency","hal_frequency_log"],n=[{field:"spelling",descending:!1}];function o(){var t;document.querySelectorAll("th").forEach((function(e){var t=n.find((function(t){return e.dataset.sort===t.field}));t?e.classList.add(t.descending?"descending":"ascending"):e.classList.remove("descending","ascending")})),t=[],e.sort(r),e.forEach((function(e){var n=document.createElement("tr");["spelling","transcription","stress","num_syllables","hal_frequency","part_of_speech"].forEach((function(t){var o=document.createElement("td");o.textContent=e[t],n.appendChild(o)})),t.push(n)})),document.querySelector("#results tbody").replaceChildren.apply(null,t)}function r(e,t){for(var o=0;o<n.length;o++){var r=n[o],c=r.field,d=r.descending?-1:1;if(e[c]>t[c])return 1*d;if(e[c]<t[c])return-1*d}return 0}function c(){this.parentNode.dataset.dragging="true"}function d(){delete this.parentNode.dataset.dragging}document.querySelectorAll("th").forEach((function(e){e.addEventListener("click",(function(){var t=n.findIndex((function(t){return e.dataset.sort===t.field}));t>-1?n[t].descending?n.splice(t,1):n[t].descending=!0:n.push({field:e.dataset.sort,descending:!1}),o()}))})),document.querySelectorAll(".window").forEach((function(e){var t=e.querySelector("header");t.addEventListener("mousedown",c),t.addEventListener("mouseup",d),e.style.top=window.getComputedStyle(e).top,e.style.left=window.getComputedStyle(e).left})),document.addEventListener("mousemove",(function(e){document.querySelectorAll(".window").forEach((function(t){t.dataset.dragging&&(t.style.top=String(t.offsetTop+e.movementY)+"px",t.style.left=String(t.offsetLeft+e.movementX)+"px")}))}),!0),document.querySelectorAll(".open-window").forEach((function(e){e.addEventListener("click",(function(){document.getElementById(e.dataset.window).style.display="block"}))})),document.querySelectorAll(".window").forEach((function(e){e.querySelector(".close-button").addEventListener("click",(function(){e.style.display="none"}))}));var i=document.querySelector("#orthography");document.querySelectorAll(".search-option input").forEach((function(e){e.addEventListener("focus",(function(e){i=e.target}))})),document.querySelector("#ipa-buttons").addEventListener("click",(function(e){"BUTTON"===e.target.nodeName&&(i.value+=e.target.textContent,i.focus())})),document.querySelector("#search-button").addEventListener("click",(function(){var t=[];document.querySelectorAll(".search-option input").forEach((function(e){t.push(e.id+"="+e.value)})),fetch("/word_lookup?"+encodeURI(t.join("&"))).then((function(t){t.ok?t.json().then((function(t){e=t.words,t.success?o():document.querySelector("#results tbody").replaceChildren(t.message)})):console.error("error!")}))})),document.querySelector("#export-data").addEventListener("click",(function(){var n=document.createElement("a");n.style="display: none",document.body.appendChild(n);var o=e.map((function(e){return t.map((function(t){return e[t]})).join(",")})).join("\n"),r=new Blob([o],{type:"text/csv"}),c=URL.createObjectURL(r);n.href=c,n.download="out.csv",n.click(),URL.revokeObjectURL(c),n.parentElement.removeChild(n)}));var l=document.querySelector("#upload"),u=document.querySelector("#import");l.addEventListener("change",(function(){u.removeAttribute("disabled")}))}</script>
